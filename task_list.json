{
  "tasks": [
    {
      "id": "enhance_001",
      "title": "Implement SPEC design system colors across entire app",
      "description": "The SPEC defines a rich color palette (primary=#FF6B9D pink, secondary=#00D4AA teal, accent=#FFE66D yellow, background=#0A0A12, surface=#1A1A2E, choice_a=#FF6B9D, choice_b=#00D4AA, streak_fire=#FF9F43) but the current app uses generic orange-600 (#ea580c) as primary and blue-600/red-600 for choices. This task updates ALL files to match the SPEC colors.\n\nFiles to modify:\n1. mobile/app/(protected)/_layout.tsx: Change tab bar active color from '#ea580c'/'text-orange-500' to '#FF6B9D'. Change active indicator from 'bg-orange-600' to style={{backgroundColor:'#FF6B9D'}}. Change bg-gray-950 to style={{backgroundColor:'#0A0A12'}}.\n2. mobile/app/(protected)/home.tsx: Replace ALL bg-orange-600/bg-orange-500 with style={{backgroundColor:'#FF6B9D'}}. Replace blue-600 option A buttons with style={{backgroundColor:'#FF6B9D'}} and red-600 option B buttons with style={{backgroundColor:'#00D4AA'}}. Replace #ea580c ActivityIndicator/RefreshControl colors with '#FF6B9D'. Replace bg-gray-950 with style={{backgroundColor:'#0A0A12'}}. Replace bg-gray-900 cards with style={{backgroundColor:'#1A1A2E'}}. Replace orange-400 stat text with style={{color:'#FF6B9D'}}. Replace streak warning yellow with '#FF9F43' accent.\n3. mobile/app/(protected)/explore.tsx: Replace bg-orange-600 header with style={{backgroundColor:'#FF6B9D'}}. Replace #ea580c with '#FF6B9D'. Replace bg-blue-600 option A with style={{backgroundColor:'#FF6B9D'}} and bg-red-600 option B with style={{backgroundColor:'#00D4AA'}}.\n4. mobile/app/(protected)/history.tsx: Same pattern - replace all orange refs with #FF6B9D, blue with #FF6B9D (choice A), red with #00D4AA (choice B), gray-950 bg with #0A0A12, gray-900 cards with #1A1A2E.\n5. mobile/app/(protected)/settings.tsx: Replace orange accents with #FF6B9D.\n6. mobile/app/(protected)/paywall.tsx: Replace orange with #FF6B9D gradient.\n7. mobile/app/onboarding.tsx: Replace orange with #FF6B9D, use LinearGradient with ['#FF6B9D','#C44DFF','#00D4AA'] for AI gradient haze.\n8. mobile/app/(auth)/login.tsx and register.tsx: Replace orange with #FF6B9D.\n9. mobile/components/ui/Button.tsx: Update gradient variant default colors to ['#FF6B9D','#C44DFF'].\n10. mobile/app.json: Change splash backgroundColor to '#0A0A12', set userInterfaceStyle to 'dark'.",
      "status": "failed",
      "priority": 10,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": "2026-02-14T14:50:42Z",
      "error": "planning failed: engine: all 1 providers failed:\n  provider GLM-Planner (glm-5): failed after 2 retries: API call failed: Post \"https://api.z.ai/api/paas/v4/chat/completions\": context deadline exceeded"
    },
    {
      "id": "enhance_002",
      "title": "Add AI question generation endpoint with GLM-5 API",
      "description": "The SPEC requires AI-generated Would You Rather questions via GLM-5 API, but the backend only has 60 hardcoded questions in DailyChallenges pool. Add a QuestionGeneratorService that calls the GLM-5 API to generate fresh questions on demand.\n\nFiles to create/modify:\n1. backend/internal/services/question_generator.go: Create QuestionGeneratorService struct with db *gorm.DB, apiURL string (from env GLM_API_URL default 'https://api.z.ai/api/paas/v4/chat/completions'), apiKey string (from env GLM_API_KEY), model string (from env GLM_MODEL default 'glm-5'). Method GenerateBatch(category string, count int) ([]models.Challenge, error): Build HTTP POST request with JSON body {\"model\": model, \"messages\": [{\"role\": \"system\", \"content\": \"You generate creative Would You Rather questions...\"}, {\"role\": \"user\", \"content\": \"Generate {count} Would You Rather questions for category: {category}. Return JSON array: [{\\\"option_a\\\": ..., \\\"option_b\\\": ..., \\\"category\\\": ...\\\"}]\"}], \"temperature\": 0.9, \"max_tokens\": 4096}. Parse response content[0].text or choices[0].message.content. Unmarshal JSON array into []Challenge. Insert into DB with gorm Create. Return created challenges.\n2. backend/internal/config/config.go: Add fields GLMApiURL, GLMApiKey, GLMModel string with env tags.\n3. backend/internal/handlers/challenge_handler.go: Add GenerateQuestions handler (admin-only). Accepts POST {\"category\": \"funny\", \"count\": 10}. Calls service.GenerateBatch. Returns 201 with generated challenges.\n4. backend/internal/routes/routes.go: Add admin route: admin.Post(\"/challenges/generate\", challengeHandler.GenerateQuestions).\n5. backend/internal/services/challenge_service.go: Update GetRandomChallenge and GetChallengesByCategory to auto-generate via GLM-5 if category has fewer than 5 unvoted challenges for this user. Call questionGenerator.GenerateBatch(category, 10) as fallback. Add questionGenerator *QuestionGeneratorService field to ChallengeService.\n6. backend/cmd/server/main.go: Initialize QuestionGeneratorService with config, inject into ChallengeService.",
      "status": "completed",
      "priority": 10,
      "depends_on": [],
      "test_command": "cd backend \u0026\u0026 go build ./...",
      "auto_commit": true,
      "created_at": "",
      "updated_at": "2026-02-14T15:10:00Z",
      "error": "planning failed: engine: all 1 providers failed:\n  provider GLM-Planner (glm-5): failed after 2 retries: API call failed: Post \"https://api.z.ai/api/paas/v4/chat/completions\": context deadline exceeded"
    },
    {
      "id": "enhance_003",
      "title": "Build swipe-based gameplay screen with gesture handler",
      "description": "The SPEC describes a full-screen swipe-based gameplay experience (swipe left=Option A, swipe right=Option B) but the current app only has tap-to-vote buttons. Add a dedicated gameplay screen with PanGestureHandler swipe mechanics.\n\nFile to create: mobile/app/(protected)/gameplay.tsx\n\nImports: React, useState, useEffect, useCallback from 'react'; View, Text, Pressable, ActivityIndicator, Dimensions from 'react-native'; Ionicons from '@expo/vector-icons'; useLocalSearchParams, router from 'expo-router'; Gesture, GestureDetector from 'react-native-gesture-handler'; Animated, useSharedValue, useAnimatedStyle, withSpring, withTiming, runOnJS, interpolate from 'react-native-reanimated'; LinearGradient from 'expo-linear-gradient'; api from '../../lib/api'; hapticVote, hapticSuccess, hapticError, hapticMedium from '../../lib/haptics'.\n\nState: questions (Challenge[]), currentIndex (number), result (ChallengeResult|null), loading (bool). Params: category (string), mode ('solo'|'daily').\n\nSwipe Logic: const translateX = useSharedValue(0); const SWIPE_THRESHOLD = 120; Pan gesture: onUpdate sets translateX.value, onEnd checks if |translateX| \u003e SWIPE_THRESHOLD. If left (negative) ‚Üí vote A with runOnJS. If right (positive) ‚Üí vote B with runOnJS. Animated card style: transform [{translateX}, {rotate: interpolate(translateX, [-200,0,200], ['-15deg','0deg','15deg'])}], opacity interpolated. Left edge overlay: LinearGradient ['#FF6B9D','transparent'] opacity based on negative translateX. Right edge overlay: LinearGradient ['transparent','#00D4AA'] opacity based on positive translateX.\n\nFetch: GET /challenges/category/{category}?limit=10 or /challenges/daily. On vote: POST /challenges/vote, then show result overlay with animated percentage bars for 2s, then advance to next card.\n\nUI Layout: Full screen dark bg #0A0A12. Top bar: back button, category badge (rounded-full, #1A1A2E bg), question counter 'X/10'. Center: large card (90% width, ~55% height, rounded-3xl, #1A1A2E bg, border border-white/10). Card content: 'Would You Rather...' label in #FF6B9D 14px, Option A text 18px bold white top half, divider with 'OR' circle badge (#FF6B9D bg), Option B text bottom half. Bottom: skip button text-gray-500.\n\nModify: mobile/app/(protected)/home.tsx - Add 'Quick Play' button that navigates to /(protected)/gameplay?category=all\u0026mode=solo. mobile/app/(protected)/_layout.tsx - Add 'gameplay' to isSubScreen check so tab bar hides.",
      "status": "in_progress",
      "priority": 8,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": "2026-02-14T15:10:00Z"
    },
    {
      "id": "enhance_004",
      "title": "Add results overlay with animated percentage bars",
      "description": "After voting in gameplay, show an animated results overlay with spring-animated percentage bars, majority badge, and share prompt. Currently home.tsx shows static bars ‚Äî this adds proper Reanimated animations.\n\nFile to create: mobile/components/ui/ResultsOverlay.tsx\n\nProps: result (ChallengeResult), onNext () =\u003e void, onShare () =\u003e void, questionNumber (number), totalQuestions (number).\n\nImports: React, useEffect from 'react'; View, Text, Pressable from 'react-native'; Ionicons from '@expo/vector-icons'; Animated, useSharedValue, useAnimatedStyle, withTiming, withDelay, withSpring, Easing from 'react-native-reanimated'; LinearGradient from 'expo-linear-gradient'; hapticSuccess from '../../lib/haptics'.\n\nAnimation: const barAWidth = useSharedValue(0); const barBWidth = useSharedValue(0); const fadeIn = useSharedValue(0). useEffect on mount: fadeIn.value = withTiming(1, {duration:300}), barAWidth.value = withDelay(200, withSpring(result.percent_a, {damping:15, stiffness:90})), barBWidth.value = withDelay(400, withSpring(result.percent_b, {damping:15, stiffness:90})).\n\nAnimated styles: barAStyle uses width: interpolate(barAWidth, [0,100], ['0%','100%']). Same for B.\n\nUI: Full overlay with bg #0A0A12/95 opacity. Center card rounded-3xl #1A1A2E p-6. 'You chose...' text-sm text-gray-400. User's choice highlighted: if A, show option_a in #FF6B9D bold, if B show option_b in #00D4AA bold. Animated bars: Option A bar with LinearGradient ['#FF6B9D','#C44DFF'], Option B bar with LinearGradient ['#00D4AA','#00B894']. Percentage labels at right of each bar. Total votes count with people-outline icon. Majority badge: if user picked majority (percent \u003e 50), show 'You're with the majority!' in green card, else 'Bold choice! Only X% agree' in #FF6B9D card. Two buttons at bottom: 'Share This' (LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl py-4), 'Next Question' (border border-gray-700 rounded-2xl py-4). If questionNumber === totalQuestions, show 'See Results' instead of 'Next'.\n\nIntegrate into gameplay.tsx: Show ResultsOverlay after vote, pass onNext to advance currentIndex, onShare to call Share.share().",
      "status": "pending",
      "priority": 7,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_005",
      "title": "Build round summary screen with personality badges",
      "description": "After completing 10 questions in gameplay, navigate to a round summary screen showing personality badge, streak update, boldest take, and share option. This is a key viral moment per the SPEC.\n\nFile to create: mobile/app/(protected)/round-summary.tsx\n\nImports: React, useState, useEffect from 'react'; View, Text, Pressable, Share, ScrollView from 'react-native'; Ionicons from '@expo/vector-icons'; router, useLocalSearchParams from 'expo-router'; LinearGradient from 'expo-linear-gradient'; Animated, useSharedValue, useAnimatedStyle, withSpring, withDelay, FadeIn, SlideInUp from 'react-native-reanimated'; api from '../../lib/api'; hapticSuccess, hapticStreakMilestone, hapticShare from '../../lib/haptics'.\n\nParams: majorityCount (number), totalQuestions (number), boldestQuestion (string JSON), boldestPercent (number), streakCount (number). Parse from route params.\n\nPersonality Logic: const getPersonality = (majorityCount, total) =\u003e { const ratio = majorityCount/total; if (ratio \u003e 0.7) return {name:'Crowd Pleaser', emoji:'üéâ', gradient:['#00D4AA','#00B894'], desc:'You go with the flow!'}; if (ratio \u003e= 0.4) return {name:'Wild Card', emoji:'üÉè', gradient:['#FF6B9D','#C44DFF'], desc:'Unpredictable and unique!'}; return {name:'Rebel', emoji:'ü¶Ñ', gradient:['#FFE66D','#FF9F43'], desc:'You march to your own beat!'}; };\n\nUI: ScrollView bg #0A0A12. Top: 'üéâ Round Complete!' text-3xl bold white with SlideInUp animation. Stats card (#1A1A2E rounded-3xl p-6): 'You agreed with the majority' text-gray-400, majorityCount/totalQuestions in large text-4xl bold #FF6B9D, 'times' text-gray-400. Personality badge: LinearGradient with personality.gradient, rounded-2xl p-6, personality.emoji 48px, personality.name text-2xl bold white, personality.desc text-sm text-white/70. Streak update section: if streakCount \u003e 0, show '+1 Day üî•' with flame icon animated pulse, current streak number in #FF9F43. Boldest take card (#1A1A2E border border-white/10 rounded-2xl p-5): 'Your Boldest Take' heading, question text, 'Only {boldestPercent}% agree with you' in #FF6B9D. Share button: LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl py-4 full width with share-outline icon. Two bottom buttons: 'Play Again' (LinearGradient bg, navigates back to gameplay), 'Home' (border border-gray-700, navigates to home).\n\nModify gameplay.tsx: After 10th question result, navigate to round-summary with encoded params.",
      "status": "pending",
      "priority": 7,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_006",
      "title": "Redesign onboarding with SPEC gradient haze and animations",
      "description": "Current onboarding uses basic orange/gray styling. SPEC calls for AI Gradient Haze (#FF6B9D‚Üí#C44DFF‚Üí#00D4AA), glassmorphism cards, and polished animations.\n\nFile to modify: mobile/app/onboarding.tsx\n\nChanges:\n1. Replace the page backgrounds: Step 1 uses LinearGradient colors={['#FF6B9D','#C44DFF','#00D4AA']} start={{x:0,y:0}} end={{x:1,y:1}} as full-screen background. Step 2 uses bg #0A0A12 with subtle gradient orb. Step 3 uses bg #0A0A12.\n2. Step 1: Replace Ionicons help-circle with larger animated card illustration. Add app name 'WouldYou' text-4xl bold white. Tagline 'The party game that never runs out of questions' text-base text-white/70. 'Get Started' button: white bg, #FF6B9D text, rounded-full py-4 px-8.\n3. Step 2: Feature cards use glassmorphism style: bg-white/10, border border-white/20, rounded-2xl p-4. Icons in #C44DFF. Three features: (1) infinite-outline + 'Endless AI Questions' + 'Never play the same question twice', (2) people-outline + 'Free Friend Lobbies' + 'No subscription, just a room code', (3) share-social-outline + 'Share Your Takes' + 'Viral-ready cards for Stories \u0026 TikTok'. Add Reanimated FadeInDown stagger animation to each card with 200ms delay.\n4. Step 3: Large 'üéâ' emoji 64px. 'Ready to Play?' text-3xl bold white. '3 free rounds ‚Äî no account needed' text-sm text-gray-400. 'Play as Guest' button: border-2 border-#C44DFF, text-#C44DFF, rounded-full. 'Create Account' button: LinearGradient ['#FF6B9D','#C44DFF'], white text, rounded-full. 'Already have an account? Log in' link in text-gray-500.\n5. Dot indicators: Active dot uses #FF6B9D bg, inactive #1A1A2E.\n6. Add Animated.ScrollView with pagingEnabled instead of manual step state for smoother horizontal transitions.\n7. Wrap entire screen in a Reanimated FadeIn entering animation.",
      "status": "pending",
      "priority": 8,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_007",
      "title": "Redesign login and register screens with SPEC branding",
      "description": "Current auth screens use generic orange styling. Update to match SPEC's dark theme with #FF6B9D primary and glassmorphism input fields.\n\nFiles to modify:\n1. mobile/app/(auth)/login.tsx:\n- Background: #0A0A12 (not gray-950).\n- Top gradient orb: Position a LinearGradient ['#FF6B9D','#C44DFF'] absolute top-0, width 200%, height 300, opacity 0.15, borderBottomLeftRadius 999, borderBottomRightRadius 999 for atmospheric glow.\n- 'Welcome Back' text-3xl bold white. 'Log in to continue your streak üî•' text-sm text-gray-500.\n- Input fields: Replace bg-gray-800 with style={{backgroundColor:'#1A1A2E'}}, border border-white/10. Focus state: border-#FF6B9D. Icon color #6B6B8A, focus icon color #FF6B9D.\n- 'Log In' button: LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl py-4. Replace current bg-orange-600.\n- Divider: '‚Äî or ‚Äî' in #6B6B8A.\n- Apple Sign In button styling update: keep existing component but ensure it matches dark theme.\n- 'Skip for now' guest button: text-gray-500, not orange.\n- 'Don't have an account? Sign up' link: 'Sign up' portion in #FF6B9D.\n- Error text: use #FF5757 (SPEC error color).\n\n2. mobile/app/(auth)/register.tsx:\n- Same background treatment as login (gradient orb).\n- 'Create Account' text-3xl bold white. 'Join 50K+ players worldwide' text-sm text-gray-500.\n- Same input field styling as login.\n- Add password strength indicator: 3-segment bar below password field. Red (#FF5757) for weak (\u003c8 chars), yellow (#FFE66D) for medium (8+ with mixed case), green (#00D4AA) for strong (8+ with mixed case + number + special).\n- 'Create Account' button: LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl py-4.\n- Same divider and Apple Sign In.\n- 'Already have an account? Log in' with 'Log in' in #FF6B9D.\n- On success: hapticSuccess() is already called ‚Äî add confetti-like animated dots using Reanimated (6 small circles that burst outward with random trajectories).",
      "status": "pending",
      "priority": 8,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_008",
      "title": "Enhance home screen with SPEC daily card and quick play",
      "description": "Redesign home screen to match SPEC: featured daily challenge card with gradient border, quick play button, category chips horizontal scroll, streak fire badge, and stats row.\n\nFile to modify: mobile/app/(protected)/home.tsx\n\nChanges:\n1. Header: Replace solid bg-orange-600 header with a LinearGradient ['#FF6B9D','#C44DFF'] with borderBottomLeftRadius:24, borderBottomRightRadius:24. Add left: streak flame badge (Ionicons 'flame' in #FF9F43 + streak count). Add right: gear icon Pressable navigating to settings.\n2. Daily Challenge Card (before voting): Wrap in LinearGradient ['#FF6B9D','#C44DFF'] p-[1px] rounded-3xl (gradient border effect). Inner View #1A1A2E rounded-3xl p-6. Add 'DAILY CHALLENGE' badge: LinearGradient ['#FF6B9D','#C44DFF'] rounded-full px-3 py-1 with text-xs bold white. Show challenge category. Option A button: style={{backgroundColor:'#FF6B9D'}} rounded-2xl py-5. Option B button: style={{backgroundColor:'#00D4AA'}} rounded-2xl py-5. VS divider circle: LinearGradient ['#FF6B9D','#C44DFF'].\n3. Quick Play Section (after voting or always visible below): 'Quick Play' large button with LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl py-5, Ionicons play-outline, navigates to gameplay?category=all\u0026mode=solo.\n4. Category chips: Horizontal ScrollView below quick play. 6 chips: All, Funny üòÇ, Deep üß†, Superpowers ‚ö°, Love ‚ù§Ô∏è, Tech üíª. Selected chip: LinearGradient ['#FF6B9D','#C44DFF'], unselected: #1A1A2E border border-white/10. Tapping a category navigates to gameplay?category={cat}\u0026mode=solo.\n5. Results section: Keep existing but update Option A bar to LinearGradient ['#FF6B9D','#C44DFF'] and Option B bar to LinearGradient ['#00D4AA','#00B894']. Checkmark badges use matching colors.\n6. Stats footer: Three stat items with #FF6B9D text for numbers instead of orange-400.\n7. Explore button: Border-2 border-#C44DFF, text-#C44DFF.",
      "status": "pending",
      "priority": 8,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_009",
      "title": "Add shareable result card component with 9:16 format",
      "description": "The SPEC requires Instagram Stories / TikTok-ready share cards (1080x1920 / 9:16 aspect ratio) with branded gradient backgrounds. Currently sharing uses plain text via Share.share(). Add a visual share card component.\n\nFile to modify: mobile/components/ui/ShareableResult.tsx (already exists but needs enhancement)\n\nThe existing ShareableResult component renders a visual card but doesn't capture it as an image. Since react-native-view-shot is NOT in package.json and we can't add new packages, enhance the text-based share with richer formatting and keep the visual card as a preview-only component.\n\nEnhance the component:\n1. Update colors: Replace existing gradient props default to colors={['#FF6B9D','#C44DFF','#00D4AA']}.\n2. Layout: 9:16 aspect ratio (width:screenWidth-48, height:(screenWidth-48)*16/9 capped at 500). LinearGradient background with rounded-3xl.\n3. Content: Top: 'WouldYou' text-lg bold white + 'wouldyou.app' text-xs text-white/50 watermark. Center: 'Would You Rather...' text-sm text-white/70. Option A text-lg bold white with percent bar and 'MY PICK ‚ñ∏' label if user chose A (highlighted with #FF6B9D border-2). Option B same but #00D4AA highlight if chosen. Bottom: 'Play now ‚Äî Download WouldYou' text-xs text-white/50.\n4. Add share function to home.tsx, gameplay results, round-summary: Construct rich text message including the question, both options with percentages, user's pick marked with ‚úì, streak info, and app link. Format: 'Would You Rather...\\n\\n‚úì A: {option_a} ({percent_a}%)\\n  B: {option_b} ({percent_b}%)\\n\\nI picked {choice}! {majorityText}\\n\\nüî• {streak}-day streak\\n\\nPlay: https://wouldyou.app'\n5. Add ShareableResult preview in a Modal that shows the visual card before sharing. The modal has the card preview + row of share buttons (Instagram, TikTok, Copy, More) using Ionicons (logo-instagram, logo-tiktok, copy-outline, share-outline). Each calls Share.share() with the text content.",
      "status": "pending",
      "priority": 7,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_010",
      "title": "Enhance history screen with trend indicators and filtering",
      "description": "The current history screen works but needs visual polish per SPEC: trend indicators, category filtering, and better empty/loading states.\n\nFile to modify: mobile/app/(protected)/history.tsx\n\nChanges:\n1. Header: Replace bg-orange-600 with LinearGradient ['#FF6B9D','#C44DFF'] with borderBottomLeftRadius:24, borderBottomRightRadius:24. Keep 'History' title and total votes badge.\n2. Each history item card (#1A1A2E rounded-2xl p-5 border border-white/10):\n- Add trend indicator: If user voted with majority (their percent \u003e 50%), show green up-arrow (Ionicons trending-up, #00D4AA). If minority, show #FF6B9D trending-down. Display as small badge top-right of card.\n- Category badge: Colored pill matching category (life=#FF6B9D, deep=#C44DFF, superpower=#FFE66D, funny=#00D4AA, love=#FF6B9D, tech=#0EA5E9).\n- User's choice highlighted with checkmark in matching choice color (#FF6B9D for A, #00D4AA for B).\n- Vote bars: Option A bar LinearGradient ['#FF6B9D','#C44DFF'], Option B bar LinearGradient ['#00D4AA','#00B894'].\n- Date shown as relative time ('2h ago', 'Yesterday', 'Feb 12').\n- Share button per item (share-outline icon).\n3. Empty state: Large Ionicons 'time-outline' 80px in #1A1A2E. 'No history yet' text-xl bold white. 'Start voting to see your choices here' text-sm text-gray-500. 'Play Now' button LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl navigating to home.\n4. Loading: Three skeleton placeholder cards using Animated opacity pulse (Reanimated withRepeat + withTiming). Skeleton cards: #1A1A2E rounded-2xl with lighter #2A2A4A animated bars.\n5. Pull-to-refresh: Already implemented, update tintColor to '#FF6B9D'.\n6. Add FlatList item separator: View h-2 for spacing instead of mb-4 on items.",
      "status": "pending",
      "priority": 7,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_011",
      "title": "Redesign settings screen with grouped sections and SPEC colors",
      "description": "Update settings to use SPEC color scheme with properly grouped sections, glassmorphism cards, and improved layout.\n\nFile to modify: mobile/app/(protected)/settings.tsx\n\nChanges:\n1. Header: LinearGradient ['#FF6B9D','#C44DFF'] with borderBottomLeftRadius:24, borderBottomRightRadius:24.\n2. Background: #0A0A12 instead of gray-950.\n3. Group cards: Each section (Account, Subscription, Security, About, Danger Zone) wrapped in View #1A1A2E rounded-2xl border border-white/10 overflow-hidden. Section headers: text-xs font-bold uppercase tracking-wider text-gray-500 px-4 pt-4 pb-2.\n4. Account section: User email with person-circle icon. If authenticated (not guest), show email. If guest, show 'Guest User' with 'Create Account' CTA button in #FF6B9D.\n5. Subscription section: If subscribed, show green badge 'Premium Active' with crown icon. If not, show 'Upgrade to Pro' with LinearGradient ['#FF6B9D','#C44DFF'] button navigating to paywall. Restore Purchases row with refresh-outline icon.\n6. Security section: Biometric toggle with Face ID/Touch ID label (already exists). Keep biometric logic.\n7. About section: Privacy Policy, Terms of Service (already exist). Add 'Rate WouldYou' row with star-outline icon. Add 'Share with Friends' row with share-outline icon that calls Share.share({message:'Check out WouldYou...'}). App version from Constants.expoConfig?.version at bottom in text-xs text-gray-600.\n8. Danger Zone section: Red tinted border: border-#FF5757/20. 'Delete Account' in #FF5757 with trash-outline icon. Confirmation modal: bg #1A1A2E, 'Are you sure?' text, password input (for authenticated users), two buttons: 'Cancel' (border gray-700) and 'Delete' (bg #FF5757).\n9. Sign Out button: Full width at bottom, border-2 border-#FF5757, text-#FF5757, rounded-2xl py-4.\n10. Replace all orange references with #FF6B9D or appropriate SPEC color.",
      "status": "pending",
      "priority": 7,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_012",
      "title": "Redesign paywall with SPEC pricing cards and feature list",
      "description": "Update paywall screen to match SPEC: crown emoji, gradient background, horizontal pricing card scroll with POPULAR/BEST VALUE badges, and enhanced feature checklist.\n\nFile to modify: mobile/app/(protected)/paywall.tsx\n\nChanges:\n1. Background: LinearGradient ['#0A0A12','#1A1A2E'] full screen.\n2. Top atmospheric glow: Absolute positioned LinearGradient ['#FF6B9D','#C44DFF'] height:300 opacity:0.1 with borderBottomLeftRadius:999.\n3. Close button: Top-right, Ionicons close size=28 color='#6B6B8A'. Pressable with hapticSelection.\n4. Header: 'üëë WouldYou Pro' text-3xl bold white. 'Unlock the full experience' text-base text-gray-400.\n5. Feature checklist: 6 items with Ionicons checkmark-circle in #FF6B9D. Items: 'Unlimited plays ‚Äî no daily limits', 'Exclusive question categories', 'Ad-free experience', 'Custom share card themes', 'Priority access to new packs', 'Profile badge \u0026 frame'. Each item: View flex-row items-center gap-3 py-2. Icon 22px. Text text-base text-white.\n6. Pricing cards: Horizontal ScrollView with snap (snapToInterval, decelerationRate='fast'). Three cards width=screenWidth*0.7, each #1A1A2E rounded-3xl p-6 border border-white/10. Selected card: border-2 border-#FF6B9D with subtle shadow. Card content: period (Weekly/Monthly/Annual) text-lg bold white, price text-3xl bold white, per-period text-sm text-gray-400. Monthly card: 'POPULAR' badge LinearGradient ['#FF9F43','#FFE66D'] rounded-full px-3 py-1 absolute top-right. Annual card: 'BEST VALUE' badge LinearGradient ['#00D4AA','#00B894'] + '$0.77/week' calculation text.\n7. Continue button: LinearGradient ['#FF6B9D','#C44DFF'] rounded-2xl py-5. Text: 'Continue with {selectedPlan}' text-lg bold white.\n8. Fine print: 'Cancel anytime' text-xs text-gray-500. 'Restore Purchases' underlined text-xs text-#FF6B9D.\n9. State: selectedPlan (string, default 'monthly'). On card press, update selectedPlan + hapticSelection.",
      "status": "pending",
      "priority": 6,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": ""
    },
    {
      "id": "enhance_013",
      "title": "Fix app.json config and add Explore tab to tab bar",
      "description": "Fix app.json configuration issues and add Explore as a tab in the custom tab bar for better discoverability.\n\nFiles to modify:\n1. mobile/app.json:\n- Change userInterfaceStyle from 'light' to 'dark' (app is dark-themed, this affects native UI elements like alerts, keyboards).\n- Change splash.backgroundColor from '#ffffff' to '#0A0A12' (SPEC background color).\n- Add 'expo-haptics' to plugins array (needed for haptic feedback on physical devices).\n- Add 'expo-apple-authentication' to plugins array (needed for Apple Sign In).\n- Change extra.eas.projectId from 'FILL_IN' to a note or keep as-is (handled at build time).\n\n2. mobile/app/(protected)/_layout.tsx:\n- Add Explore tab to the tabs array between Play and History: { name: 'explore', title: 'Explore', iconDefault: 'compass-outline' as const, iconActive: 'compass' as const, href: '/(protected)/explore' }.\n- Update tab bar order: Play, Explore, History, Settings (4 tabs matching SPEC closer: Play, Daily, Friends, Profile ‚Üí adapted to current features).\n- Remove 'explore' from isSubScreen check since it's now a tab.\n- Update active colors: Replace '#ea580c' with '#FF6B9D'. Replace 'bg-orange-600' indicator with style={{backgroundColor:'#FF6B9D'}}. Replace 'text-orange-500' with style={{color:'#FF6B9D'}}.\n- Tab bar background: style={{backgroundColor:'#0A0A12'}} with border-t border color '#1A1A2E'.\n\n3. mobile/app/(protected)/explore.tsx:\n- Remove the back button from header since it's now accessible via tab bar.\n- Update header to not need back navigation ‚Äî just show 'Explore' title with LinearGradient ['#FF6B9D','#C44DFF'] header matching other screens.",
      "status": "completed",
      "priority": 9,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": "2026-02-14T14:32:53Z",
      "error": "planning failed: engine: all 1 providers failed:\n  provider GLM-Planner (dummy): failed after 2 retries: API call failed: Post \"dummy\": unsupported protocol scheme \"\""
    },
    {
      "id": "enhance_014",
      "title": "Add glassmorphism card component and UI polish utilities",
      "description": "Create a reusable GlassmorphismCard component and update existing GradientCard to match SPEC's glassmorphism design pattern (bg-white/10, border border-white/20, backdrop blur effect).\n\nFiles to modify:\n1. mobile/components/ui/GradientCard.tsx: Update default gradient colors from whatever is current to ['#FF6B9D','#C44DFF','#00D4AA']. Ensure rounded-3xl and shadow-xl are applied.\n\n2. Create mobile/components/ui/GlassCard.tsx:\nImports: React from 'react'; View, ViewProps from 'react-native'.\nProps: children, className (string), style (ViewStyle), noPadding (bool).\nComponent: View with combined styles: backgroundColor 'rgba(255,255,255,0.08)', borderWidth 1, borderColor 'rgba(255,255,255,0.12)', borderRadius 24 (rounded-3xl equivalent), padding: noPadding ? 0 : 24, plus any passed style. Apply className for NativeWind overrides.\nExport default GlassCard.\n\n3. mobile/components/ui/CTABanner.tsx: Update default gradient colors to ['#FF6B9D','#C44DFF']. Update text colors.\n\n4. mobile/components/ui/UsageBadge.tsx: Update gradient colors from orange to ['#FF6B9D','#C44DFF']. Progress bar color #FF6B9D.\n\n5. mobile/components/ui/FeatureCard.tsx: Update default colors. Locked state overlay uses #0A0A12/80 with lock-closed icon in #6B6B8A. Badge uses LinearGradient ['#FFE66D','#FF9F43'] for 'NEW' badges.\n\n6. mobile/lib/cn.ts (or wherever cn utility is): Verify clsx + tailwind-merge utility exists and works. If not, ensure: export function cn(...inputs: ClassValue[]) { return twMerge(clsx(inputs)); }\n\nThis task creates the design foundation components that other screens will use, ensuring consistent SPEC-compliant styling across the app.",
      "status": "completed",
      "priority": 9,
      "depends_on": [],
      "test_command": "cd mobile \u0026\u0026 npx tsc --noEmit",
      "auto_commit": true,
      "created_at": "",
      "updated_at": "2026-02-14T14:39:22Z",
      "error": "planning failed: engine: all 1 providers failed:\n  provider GLM-Planner (dummy): failed after 2 retries: API call failed: Post \"dummy\": unsupported protocol scheme \"\""
    }
  ]
}